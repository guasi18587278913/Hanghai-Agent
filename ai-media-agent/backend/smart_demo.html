<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIè‡ªåª’ä½“å­¦ä¹ Agent - æ™ºèƒ½ç‰ˆ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            color: white;
            margin: 30px 0;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        /* é—®å·éƒ¨åˆ† */
        .questionnaire {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        }
        
        .question-section {
            margin-bottom: 35px;
            opacity: 0;
            animation: fadeIn 0.5s forwards;
        }
        
        @keyframes fadeIn {
            to { opacity: 1; }
        }
        
        .question-title {
            font-size: 1.2em;
            color: #333;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        .question-subtitle {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 15px;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .option {
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
        }
        
        .option:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }
        
        .option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea10 0%, #764ba210 100%);
        }
        
        .option input[type="radio"],
        .option input[type="checkbox"] {
            margin-right: 12px;
        }
        
        .progress-bar {
            height: 6px;
            background: #e0e0e0;
            border-radius: 3px;
            margin: 30px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 3px;
            transition: width 0.5s;
        }
        
        .progress-text {
            text-align: center;
            color: #666;
            margin-top: 10px;
        }
        
        .btn-group {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: #f0f0f0;
            color: #666;
        }
        
        .btn-secondary:hover {
            background: #e0e0e0;
        }
        
        .hidden {
            display: none;
        }
        
        /* ç»“æœå±•ç¤º */
        .result-container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        }
        
        .user-profile {
            background: linear-gradient(135deg, #667eea10 0%, #764ba210 100%);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }
        
        .profile-title {
            font-size: 1.5em;
            color: #667eea;
            margin-bottom: 15px;
        }
        
        .profile-tag {
            display: inline-block;
            padding: 5px 15px;
            background: white;
            border-radius: 20px;
            margin: 5px;
            color: #666;
            font-size: 0.9em;
        }
        
        .learning-path {
            margin-top: 30px;
        }
        
        .path-title {
            font-size: 1.3em;
            color: #333;
            margin-bottom: 20px;
        }
        
        .phase {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }
        
        .phase-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .phase-name {
            font-size: 1.1em;
            font-weight: 600;
            color: #333;
        }
        
        .phase-duration {
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
        }
        
        .task-list {
            margin-top: 15px;
        }
        
        .task {
            padding: 10px 15px;
            background: white;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        .task-check {
            width: 20px;
            height: 20px;
            border: 2px solid #667eea;
            border-radius: 4px;
            margin-right: 15px;
        }
        
        .chat-assistant {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }
        
        .chat-assistant:hover {
            transform: scale(1.1);
        }
        
        .chat-window {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 400px;
            height: 500px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
            display: none;
            flex-direction: column;
        }
        
        .chat-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 20px 20px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chat-close {
            cursor: pointer;
            font-size: 24px;
        }
        
        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }
        
        .chat-input-area {
            padding: 20px;
            border-top: 1px solid #e0e0e0;
            display: flex;
            gap: 10px;
        }
        
        .chat-input {
            flex: 1;
            padding: 10px 15px;
            border: 1px solid #e0e0e0;
            border-radius: 20px;
            outline: none;
        }
        
        .chat-send {
            padding: 10px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
        }
        
        .message {
            margin-bottom: 15px;
            display: flex;
        }
        
        .message.user {
            justify-content: flex-end;
        }
        
        .message-bubble {
            max-width: 70%;
            padding: 10px 15px;
            border-radius: 15px;
        }
        
        .message.user .message-bubble {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .message.ai .message-bubble {
            background: #f0f0f0;
            color: #333;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš€ AIè‡ªåª’ä½“å­¦ä¹ è§„åˆ’å¸ˆ</h1>
            <p>3åˆ†é’Ÿä¸ªæ€§åŒ–æµ‹è¯„ï¼Œå®šåˆ¶ä½ çš„ä¸“å±å­¦ä¹ è·¯å¾„</p>
        </div>
        
        <!-- é—®å·éƒ¨åˆ† -->
        <div id="questionnaire" class="questionnaire">
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar" style="width: 0%"></div>
            </div>
            <div class="progress-text">
                <span id="currentQuestion">0</span> / <span id="totalQuestions">8</span>
            </div>
            
            <!-- é—®é¢˜å®¹å™¨ -->
            <div id="questionContainer"></div>
            
            <div class="btn-group">
                <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()">ä¸Šä¸€é¢˜</button>
                <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜</button>
            </div>
        </div>
        
        <!-- ç»“æœå±•ç¤º -->
        <div id="resultContainer" class="result-container hidden">
            <div class="user-profile">
                <h2 class="profile-title">ğŸ“Š ä½ çš„å­¦ä¹ ç”»åƒ</h2>
                <div id="profileTags"></div>
            </div>
            
            <div class="learning-path">
                <h2 class="path-title">ğŸ¯ ä¸ºä½ å®šåˆ¶çš„21å¤©å­¦ä¹ è·¯å¾„</h2>
                <div id="pathContent"></div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="restartQuiz()">é‡æ–°è¯„æµ‹</button>
                <button class="btn btn-primary" onclick="startLearning()">å¼€å§‹å­¦ä¹ </button>
            </div>
        </div>
    </div>
    
    <!-- AIåŠ©æ‰‹ -->
    <div class="chat-assistant" onclick="toggleChat()">ğŸ’¬</div>
    <div class="chat-window" id="chatWindow">
        <div class="chat-header">
            <span>AIå­¦ä¹ åŠ©æ‰‹</span>
            <span class="chat-close" onclick="toggleChat()">Ã—</span>
        </div>
        <div class="chat-messages" id="chatMessages">
            <div class="message ai">
                <div class="message-bubble">
                    ä½ å¥½ï¼æˆ‘æ˜¯ä½ çš„AIè‡ªåª’ä½“å­¦ä¹ åŠ©æ‰‹ï¼Œæœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿ
                </div>
            </div>
        </div>
        <div class="chat-input-area">
            <input type="text" class="chat-input" id="chatInput" placeholder="è¾“å…¥ä½ çš„é—®é¢˜..." onkeypress="if(event.key==='Enter')sendMessage()">
            <button class="chat-send" onclick="sendMessage()">å‘é€</button>
        </div>
    </div>
    
    <script>
        // é—®é¢˜æ•°æ®
        const questions = [
            {
                id: 1,
                title: "ä½ ç›®å‰çš„çŠ¶æ€æ˜¯ï¼Ÿ",
                subtitle: "äº†è§£ä½ çš„æ—¶é—´å®‰æ’ï¼Œä¸ºä½ è§„åˆ’åˆé€‚çš„å­¦ä¹ å¼ºåº¦",
                type: "single",
                options: [
                    { value: "full_time_regular", label: "å…¨èŒä¸Šç­æ—ï¼ˆæœä¹æ™šäº”ï¼‰", timeScore: 2 },
                    { value: "full_time_flexible", label: "å…¨èŒä¸Šç­æ—ï¼ˆæ—¶é—´çµæ´»ï¼‰", timeScore: 3 },
                    { value: "freelancer", label: "è‡ªç”±èŒä¸šè€…", timeScore: 4 },
                    { value: "parent", label: "å…¨èŒå®å¦ˆ/å®çˆ¸", timeScore: 3 },
                    { value: "student", label: "å­¦ç”Ÿ", timeScore: 4 },
                    { value: "unemployed", label: "å¾…ä¸š/å…¨èŒåšå‰¯ä¸š", timeScore: 5 }
                ]
            },
            {
                id: 2,
                title: "ä½ æ¯å¤©å¯ä»¥æŠ•å…¥AIè‡ªåª’ä½“çš„æ—¶é—´æ˜¯ï¼Ÿ",
                subtitle: "åˆç†çš„æ—¶é—´æŠ•å…¥æ˜¯æˆåŠŸçš„åŸºç¡€",
                type: "single",
                options: [
                    { value: "less_2", label: "å°‘äº2å°æ—¶", timeAvailable: 1 },
                    { value: "2_4", label: "2-4å°æ—¶", timeAvailable: 2 },
                    { value: "4_6", label: "4-6å°æ—¶", timeAvailable: 3 },
                    { value: "more_6", label: "6å°æ—¶ä»¥ä¸Š", timeAvailable: 4 }
                ]
            },
            {
                id: 3,
                title: "ä½ å¯¹AIå·¥å…·çš„äº†è§£ç¨‹åº¦ï¼Ÿ",
                subtitle: "è¯„ä¼°ä½ çš„AIåŸºç¡€ï¼Œå†³å®šå­¦ä¹ èµ·ç‚¹",
                type: "single",
                options: [
                    { value: "expert", label: "ç»å¸¸ä½¿ç”¨ï¼Œå¾ˆç†Ÿæ‚‰ChatGPT/Midjourneyç­‰", aiLevel: 4 },
                    { value: "intermediate", label: "ç”¨è¿‡å‡ æ¬¡ï¼Œäº†è§£åŸºæœ¬åŠŸèƒ½", aiLevel: 3 },
                    { value: "beginner", label: "å¬è¯´è¿‡ä½†æ²¡æ€ä¹ˆç”¨è¿‡", aiLevel: 2 },
                    { value: "none", label: "å®Œå…¨ä¸äº†è§£", aiLevel: 1 }
                ]
            },
            {
                id: 4,
                title: "ä½ çš„å†…å®¹åˆ›ä½œèƒ½åŠ›å¦‚ä½•ï¼Ÿ",
                subtitle: "è¯„ä¼°ä½ çš„åˆ›ä½œåŸºç¡€",
                type: "single",
                options: [
                    { value: "pro_writer", label: "ç»å¸¸å†™ä½œï¼Œæ–‡ç¬”ä¸é”™", contentSkill: 4 },
                    { value: "good_logic", label: "èƒ½æ¸…æ¥šè¡¨è¾¾ï¼Œé€»è¾‘æ¸…æ™°", contentSkill: 3 },
                    { value: "average", label: "ä¸€èˆ¬æ°´å¹³ï¼Œæ„¿æ„å­¦ä¹ ", contentSkill: 2 },
                    { value: "weak", label: "æ¯”è¾ƒè–„å¼±ï¼Œéœ€è¦æå‡", contentSkill: 1 }
                ]
            },
            {
                id: 5,
                title: "ä½ å€¾å‘çš„å†…å®¹å½¢å¼æ˜¯ï¼Ÿ",
                subtitle: "é€‰æ‹©é€‚åˆä½ çš„å†…å®¹å½¢å¼",
                type: "single",
                options: [
                    { value: "text", label: "å›¾æ–‡å†…å®¹ï¼ˆå°çº¢ä¹¦ç¬”è®°ã€å…¬ä¼—å·æ–‡ç« ï¼‰", format: "text" },
                    { value: "short_video", label: "çŸ­è§†é¢‘ï¼ˆæŠ–éŸ³ã€Bç«™ï¼‰", format: "video" },
                    { value: "live", label: "ç›´æ’­åˆ†äº«", format: "live" },
                    { value: "mixed", label: "éƒ½å¯ä»¥å°è¯•", format: "mixed" }
                ]
            },
            {
                id: 6,
                title: "ä½ æ„Ÿå…´è¶£çš„AIè‡ªåª’ä½“æ–¹å‘ï¼Ÿ",
                subtitle: "å¯å¤šé€‰ï¼Œæˆ‘ä»¬ä¼šä¸ºä½ æ¨èæœ€é€‚åˆçš„",
                type: "multiple",
                options: [
                    { value: "tools", label: "AIå·¥å…·æµ‹è¯„ä¸æ•™ç¨‹" },
                    { value: "art", label: "AIç»˜ç”»åˆ›ä½œ" },
                    { value: "writing", label: "AIå†™ä½œæŠ€å·§" },
                    { value: "efficiency", label: "AIæ•ˆç‡æå‡" },
                    { value: "news", label: "AIèµ„è®¯è§£è¯»" },
                    { value: "education", label: "AIæ•™è‚²åŸ¹è®­" }
                ]
            },
            {
                id: 7,
                title: "ä½ ä¹‹å‰çš„ç›¸å…³ç»éªŒï¼Ÿ",
                subtitle: "äº†è§£ä½ çš„åŸºç¡€ï¼Œæ›´å¥½åœ°è§„åˆ’è·¯å¾„",
                type: "multiple",
                options: [
                    { value: "social_media", label: "åšè¿‡è‡ªåª’ä½“ï¼ˆå…¬ä¼—å·/å¤´æ¡/çŸ¥ä¹ç­‰ï¼‰" },
                    { value: "short_video", label: "æ‹è¿‡çŸ­è§†é¢‘ï¼ˆæŠ–éŸ³/å¿«æ‰‹ç­‰ï¼‰" },
                    { value: "ecommerce", label: "åšè¿‡ç”µå•†/å¸¦è´§" },
                    { value: "teaching", label: "æœ‰æ•™å­¦/åŸ¹è®­ç»éªŒ" },
                    { value: "none", label: "å®Œå…¨æ²¡æœ‰ç›¸å…³ç»éªŒ" }
                ]
            },
            {
                id: 8,
                title: "ä½ åšAIè‡ªåª’ä½“çš„ä¸»è¦ç›®æ ‡ï¼Ÿ",
                subtitle: "æ˜ç¡®ç›®æ ‡ï¼Œæ‰èƒ½æ›´å¥½åœ°è¾¾æˆ",
                type: "single",
                options: [
                    { value: "side_income", label: "å¢åŠ å‰¯ä¸šæ”¶å…¥", goal: "monetization" },
                    { value: "skill_learning", label: "å­¦ä¹ æ–°æŠ€èƒ½", goal: "skill" },
                    { value: "personal_brand", label: "æ‰“é€ ä¸ªäººIP", goal: "brand" },
                    { value: "career_change", label: "èŒä¸šè½¬å‹", goal: "career" },
                    { value: "interest", label: "å…´è¶£çˆ±å¥½", goal: "hobby" }
                ]
            }
        ];
        
        let currentQuestionIndex = 0;
        let userAnswers = {};
        
        // åˆå§‹åŒ–
        function init() {
            document.getElementById('totalQuestions').textContent = questions.length;
            showQuestion(0);
        }
        
        // æ˜¾ç¤ºé—®é¢˜
        function showQuestion(index) {
            const question = questions[index];
            const container = document.getElementById('questionContainer');
            
            let optionsHtml = '';
            const isMultiple = question.type === 'multiple';
            const inputType = isMultiple ? 'checkbox' : 'radio';
            
            question.options.forEach(option => {
                const isChecked = userAnswers[question.id] && 
                    (isMultiple ? userAnswers[question.id].includes(option.value) : userAnswers[question.id] === option.value);
                
                optionsHtml += `
                    <label class="option ${isChecked ? 'selected' : ''}">
                        <input type="${inputType}" 
                               name="q${question.id}" 
                               value="${option.value}"
                               ${isChecked ? 'checked' : ''}
                               onchange="handleOptionChange(${question.id}, '${option.value}', ${isMultiple})">
                        ${option.label}
                    </label>
                `;
            });
            
            container.innerHTML = `
                <div class="question-section" style="animation-delay: 0.1s">
                    <h3 class="question-title">${question.title}</h3>
                    ${question.subtitle ? `<p class="question-subtitle">${question.subtitle}</p>` : ''}
                    <div class="options">
                        ${optionsHtml}
                    </div>
                </div>
            `;
            
            // æ›´æ–°è¿›åº¦
            updateProgress(index);
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.getElementById('prevBtn').style.display = index === 0 ? 'none' : 'block';
            document.getElementById('nextBtn').textContent = index === questions.length - 1 ? 'æŸ¥çœ‹ç»“æœ' : 'ä¸‹ä¸€é¢˜';
        }
        
        // å¤„ç†é€‰é¡¹å˜åŒ–
        function handleOptionChange(questionId, value, isMultiple) {
            if (isMultiple) {
                if (!userAnswers[questionId]) {
                    userAnswers[questionId] = [];
                }
                const index = userAnswers[questionId].indexOf(value);
                if (index > -1) {
                    userAnswers[questionId].splice(index, 1);
                } else {
                    userAnswers[questionId].push(value);
                }
            } else {
                userAnswers[questionId] = value;
            }
            
            // æ›´æ–°é€‰ä¸­çŠ¶æ€
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                const input = option.querySelector('input');
                if (input.checked) {
                    option.classList.add('selected');
                } else {
                    option.classList.remove('selected');
                }
            });
        }
        
        // æ›´æ–°è¿›åº¦
        function updateProgress(index) {
            const progress = ((index + 1) / questions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = index + 1;
        }
        
        // ä¸‹ä¸€é¢˜
        function nextQuestion() {
            if (!userAnswers[questions[currentQuestionIndex].id]) {
                alert('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªé€‰é¡¹');
                return;
            }
            
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                showQuestion(currentQuestionIndex);
            } else {
                generateResult();
            }
        }
        
        // ä¸Šä¸€é¢˜
        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion(currentQuestionIndex);
            }
        }
        
        // ç”Ÿæˆç»“æœ
        async function generateResult() {
            // åˆ†æç”¨æˆ·ç”»åƒ
            const profile = analyzeProfile();
            
            // æ˜¾ç¤ºç»“æœ
            document.getElementById('questionnaire').classList.add('hidden');
            document.getElementById('resultContainer').classList.remove('hidden');
            
            // æ˜¾ç¤ºç”¨æˆ·ç”»åƒæ ‡ç­¾
            const tagsHtml = profile.tags.map(tag => 
                `<span class="profile-tag">${tag}</span>`
            ).join('');
            document.getElementById('profileTags').innerHTML = tagsHtml;
            
            // ç”Ÿæˆä¸ªæ€§åŒ–å­¦ä¹ è·¯å¾„
            const learningPath = generateLearningPath(profile);
            displayLearningPath(learningPath);
            
            // è°ƒç”¨AIè·å–æ›´è¯¦ç»†çš„å»ºè®®
            if (typeof sendToAI === 'function') {
                const aiAdvice = await sendToAI(profile);
                if (aiAdvice) {
                    // æ˜¾ç¤ºAIå»ºè®®
                }
            }
        }
        
        // åˆ†æç”¨æˆ·ç”»åƒ
        function analyzeProfile() {
            const profile = {
                tags: [],
                timeAvailable: 0,
                aiLevel: 0,
                contentSkill: 0,
                goal: '',
                experience: [],
                direction: [],
                format: ''
            };
            
            // åˆ†æå„ä¸ªç»´åº¦
            questions.forEach(q => {
                const answer = userAnswers[q.id];
                if (!answer) return;
                
                if (q.id === 1) {
                    const option = q.options.find(o => o.value === answer);
                    if (option) {
                        profile.timeAvailable = option.timeScore;
                        profile.tags.push(option.label);
                    }
                }
                
                if (q.id === 2) {
                    const option = q.options.find(o => o.value === answer);
                    if (option) {
                        profile.tags.push(`æ¯å¤©${option.label.toLowerCase()}`);
                    }
                }
                
                if (q.id === 3) {
                    const option = q.options.find(o => o.value === answer);
                    if (option) {
                        profile.aiLevel = option.aiLevel;
                        if (option.aiLevel <= 2) {
                            profile.tags.push('AIæ–°æ‰‹');
                        } else {
                            profile.tags.push('AIç†Ÿæ‰‹');
                        }
                    }
                }
                
                if (q.id === 4) {
                    const option = q.options.find(o => o.value === answer);
                    if (option) {
                        profile.contentSkill = option.contentSkill;
                    }
                }
                
                if (q.id === 5) {
                    const option = q.options.find(o => o.value === answer);
                    if (option) {
                        profile.format = option.format;
                        profile.tags.push(`åå¥½${option.label.split('ï¼ˆ')[0]}`);
                    }
                }
                
                if (q.id === 6 && Array.isArray(answer)) {
                    profile.direction = answer;
                }
                
                if (q.id === 7 && Array.isArray(answer)) {
                    profile.experience = answer;
                    if (answer.includes('none')) {
                        profile.tags.push('é›¶åŸºç¡€');
                    } else {
                        profile.tags.push('æœ‰ç»éªŒ');
                    }
                }
                
                if (q.id === 8) {
                    const option = q.options.find(o => o.value === answer);
                    if (option) {
                        profile.goal = option.goal;
                        profile.tags.push(option.label);
                    }
                }
            });
            
            return profile;
        }
        
        // ç”Ÿæˆä¸ªæ€§åŒ–å­¦ä¹ è·¯å¾„
        function generateLearningPath(profile) {
            const phases = [];
            
            // æ ¹æ®ç”¨æˆ·ç”»åƒå®šåˆ¶é˜¶æ®µ
            if (profile.aiLevel <= 2) {
                // AIæ–°æ‰‹éœ€è¦æ›´å¤šåŸºç¡€å†…å®¹
                phases.push({
                    name: 'åŸºç¡€å…¥é—¨é˜¶æ®µ',
                    duration: 'ç¬¬1-7å¤©',
                    focus: 'AIå·¥å…·è®¤çŸ¥ä¸åŸºç¡€æ“ä½œ',
                    tasks: [
                        'äº†è§£ChatGPTã€Midjourneyç­‰ä¸»æµAIå·¥å…·',
                        'æ³¨å†Œå¹¶å®ŒæˆåŸºç¡€è®¾ç½®',
                        'å­¦ä¹ promptæç¤ºè¯åŸºç¡€',
                        'å®Œæˆ10ä¸ªAIå·¥å…·å®æ“ç»ƒä¹ ',
                        'ç¡®å®šè‡ªå·±çš„å†…å®¹æ–¹å‘'
                    ]
                });
            } else {
                // AIç†Ÿæ‰‹å¯ä»¥å¿«é€Ÿè¿›å…¥å®šä½
                phases.push({
                    name: 'å¿«é€Ÿå®šä½é˜¶æ®µ',
                    duration: 'ç¬¬1-4å¤©',
                    focus: 'èµ›é“é€‰æ‹©ä¸ç«å“åˆ†æ',
                    tasks: [
                        'åˆ†æ3ä¸ªç»†åˆ†èµ›é“çš„å¸‚åœºæ½œåŠ›',
                        'æ‰¾å‡º10ä¸ªå¯¹æ ‡è´¦å·æ·±åº¦åˆ†æ',
                        'ç¡®å®šè‡ªå·±çš„å·®å¼‚åŒ–å®šä½',
                        'åˆ¶å®šå†…å®¹çŸ©é˜µè§„åˆ’'
                    ]
                });
            }
            
            // å†…å®¹åˆ›ä½œé˜¶æ®µ
            if (profile.format === 'text') {
                phases.push({
                    name: 'å›¾æ–‡åˆ›ä½œé˜¶æ®µ',
                    duration: 'ç¬¬5-14å¤©',
                    focus: 'å›¾æ–‡å†…å®¹ç”Ÿäº§ä¸ä¼˜åŒ–',
                    tasks: [
                        'å­¦ä¹ å°çº¢ä¹¦/å…¬ä¼—å·çˆ†æ¬¾é€»è¾‘',
                        'æŒæ¡AIè¾…åŠ©å†™ä½œæŠ€å·§',
                        'æ¯å¤©äº§å‡º1-2ç¯‡å›¾æ–‡å†…å®¹',
                        'å­¦ä¹ å°é¢å›¾è®¾è®¡æŠ€å·§',
                        'A/Bæµ‹è¯•ä¼˜åŒ–å†…å®¹'
                    ]
                });
            } else if (profile.format === 'video') {
                phases.push({
                    name: 'è§†é¢‘åˆ›ä½œé˜¶æ®µ',
                    duration: 'ç¬¬5-14å¤©',
                    focus: 'çŸ­è§†é¢‘åˆ¶ä½œä¸å‘å¸ƒ',
                    tasks: [
                        'å­¦ä¹ çŸ­è§†é¢‘è„šæœ¬åˆ›ä½œ',
                        'æŒæ¡AIè§†é¢‘å·¥å…·ä½¿ç”¨',
                        'ç»ƒä¹ é•œå¤´è¡¨ç°åŠ›',
                        'æ¯å¤©å‘å¸ƒ1ä¸ªçŸ­è§†é¢‘',
                        'æ•°æ®åˆ†æä¸ä¼˜åŒ–'
                    ]
                });
            } else {
                phases.push({
                    name: 'å…¨åª’ä½“åˆ›ä½œé˜¶æ®µ',
                    duration: 'ç¬¬5-14å¤©',
                    focus: 'å¤šå¹³å°å†…å®¹å¸ƒå±€',
                    tasks: [
                        'åˆ¶å®šå¤šå¹³å°å†…å®¹ç­–ç•¥',
                        'å›¾æ–‡è§†é¢‘ç»“åˆåˆ›ä½œ',
                        'å»ºç«‹å†…å®¹ç”Ÿäº§æµç¨‹',
                        'è·¨å¹³å°å¼•æµæŠ€å·§',
                        'å†…å®¹å¤ç”¨ä¸æ”¹ç¼–'
                    ]
                });
            }
            
            // è¿è¥å¢é•¿é˜¶æ®µ
            if (profile.goal === 'monetization') {
                phases.push({
                    name: 'å•†ä¸šå˜ç°é˜¶æ®µ',
                    duration: 'ç¬¬15-21å¤©',
                    focus: 'å˜ç°æ¨¡å¼æ¢ç´¢ä¸å®è·µ',
                    tasks: [
                        'å¼€é€šå„å¹³å°åˆ›ä½œè€…è®¡åˆ’',
                        'æ¥æ´½é¦–æ‰¹å•†åŠ¡åˆä½œ',
                        'è®¾è®¡çŸ¥è¯†ä»˜è´¹äº§å“',
                        'å»ºç«‹ç§åŸŸæµé‡æ± ',
                        'åˆ¶å®šä»·æ ¼ä½“ç³»'
                    ]
                });
            } else if (profile.goal === 'brand') {
                phases.push({
                    name: 'å“ç‰Œå»ºè®¾é˜¶æ®µ',
                    duration: 'ç¬¬15-21å¤©',
                    focus: 'ä¸ªäººIPæ‰“é€ ',
                    tasks: [
                        'è®¾è®¡ä¸ªäººå“ç‰Œè§†è§‰ä½“ç³»',
                        'å»ºç«‹ç²‰ä¸ç¤¾ç¾¤',
                        'æ‰“é€ æ ‡å¿—æ€§å†…å®¹ç³»åˆ—',
                        'è·¨å¹³å°å“ç‰Œç»Ÿä¸€',
                        'å½±å“åŠ›æ‰©å¤§ç­–ç•¥'
                    ]
                });
            } else {
                phases.push({
                    name: 'æŒç»­ä¼˜åŒ–é˜¶æ®µ',
                    duration: 'ç¬¬15-21å¤©',
                    focus: 'æ•°æ®é©±åŠ¨çš„å†…å®¹ä¼˜åŒ–',
                    tasks: [
                        'æ·±åº¦æ•°æ®åˆ†æ',
                        'çˆ†æ¬¾å†…å®¹å¤åˆ¶',
                        'ç²‰ä¸äº’åŠ¨æå‡',
                        'å†…å®¹è´¨é‡å‡çº§',
                        'é•¿æœŸè§„åˆ’åˆ¶å®š'
                    ]
                });
            }
            
            return phases;
        }
        
        // æ˜¾ç¤ºå­¦ä¹ è·¯å¾„
        function displayLearningPath(phases) {
            let html = '';
            phases.forEach((phase, index) => {
                html += `
                    <div class="phase" style="animation: fadeIn 0.5s forwards; animation-delay: ${index * 0.1}s; opacity: 0">
                        <div class="phase-header">
                            <span class="phase-name">${phase.name}</span>
                            <span class="phase-duration">${phase.duration}</span>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">é‡ç‚¹ï¼š${phase.focus}</p>
                        <div class="task-list">
                            ${phase.tasks.map(task => `
                                <div class="task">
                                    <div class="task-check"></div>
                                    <span>${task}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });
            document.getElementById('pathContent').innerHTML = html;
        }
        
        // é‡æ–°å¼€å§‹
        function restartQuiz() {
            currentQuestionIndex = 0;
            userAnswers = {};
            document.getElementById('questionnaire').classList.remove('hidden');
            document.getElementById('resultContainer').classList.add('hidden');
            showQuestion(0);
        }
        
        // å¼€å§‹å­¦ä¹ 
        function startLearning() {
            // è¿™é‡Œå¯ä»¥è·³è½¬åˆ°å…·ä½“çš„å­¦ä¹ é¡µé¢æˆ–æ˜¾ç¤ºæ›´è¯¦ç»†çš„å†…å®¹
            alert('å¤ªæ£’äº†ï¼è®©æˆ‘ä»¬å¼€å§‹ä½ çš„AIè‡ªåª’ä½“ä¹‹æ—…ï¼');
            // å¯ä»¥è°ƒç”¨AIåŠ©æ‰‹æä¾›ç¬¬ä¸€å¤©çš„å…·ä½“ä»»åŠ¡
            toggleChat();
            setTimeout(() => {
                addAIMessage('æ ¹æ®ä½ çš„å­¦ä¹ è®¡åˆ’ï¼Œä»Šå¤©æˆ‘ä»¬å…ˆä»äº†è§£AIå·¥å…·å¼€å§‹ã€‚æˆ‘æ¥ä¸ºä½ ä»‹ç»ä¸€ä¸‹ChatGPTçš„åŸºç¡€ä½¿ç”¨æŠ€å·§...');
            }, 500);
        }
        
        // èŠå¤©åŠŸèƒ½
        function toggleChat() {
            const chatWindow = document.getElementById('chatWindow');
            chatWindow.style.display = chatWindow.style.display === 'flex' ? 'none' : 'flex';
        }
        
        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;
            
            // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
            addUserMessage(message);
            input.value = '';
            
            // è°ƒç”¨AI API
            try {
                const response = await fetch('http://localhost:8000/chat', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ message })
                });
                
                const data = await response.json();
                addAIMessage(data.answer || 'è®©æˆ‘æƒ³æƒ³...');
            } catch (error) {
                addAIMessage('æŠ±æ­‰ï¼Œæˆ‘æš‚æ—¶æ— æ³•å›ç­”ã€‚è¯·ç¨åå†è¯•ã€‚');
            }
        }
        
        function addUserMessage(message) {
            const messagesDiv = document.getElementById('chatMessages');
            messagesDiv.innerHTML += `
                <div class="message user">
                    <div class="message-bubble">${message}</div>
                </div>
            `;
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }
        
        function addAIMessage(message) {
            const messagesDiv = document.getElementById('chatMessages');
            messagesDiv.innerHTML += `
                <div class="message ai">
                    <div class="message-bubble">${message}</div>
                </div>
            `;
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }
        
        // åˆå§‹åŒ–
        init();
    </script>
</body>
</html>