<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIËá™Â™í‰ΩìÂ≠¶‰π†Agent - Êô∫ËÉΩÁâà</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            color: white;
            margin: 30px 0;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        /* ÈóÆÂç∑ÈÉ®ÂàÜ */
        .questionnaire {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        }
        
        .question-section {
            margin-bottom: 35px;
            opacity: 0;
            animation: fadeIn 0.5s forwards;
        }
        
        @keyframes fadeIn {
            to { opacity: 1; }
        }
        
        .question-title {
            font-size: 1.2em;
            color: #333;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        .question-subtitle {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 15px;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .option {
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
        }
        
        .option:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }
        
        .option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea10 0%, #764ba210 100%);
        }
        
        .option input[type="radio"],
        .option input[type="checkbox"] {
            margin-right: 12px;
        }
        
        .progress-bar {
            height: 6px;
            background: #e0e0e0;
            border-radius: 3px;
            margin: 30px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 3px;
            transition: width 0.5s;
        }
        
        .progress-text {
            text-align: center;
            color: #666;
            margin-top: 10px;
        }
        
        .btn-group {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: #f0f0f0;
            color: #666;
        }
        
        .btn-secondary:hover {
            background: #e0e0e0;
        }
        
        .hidden {
            display: none;
        }
        
        /* ÁªìÊûúÂ±ïÁ§∫ */
        .result-container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        }
        
        .user-profile {
            background: linear-gradient(135deg, #667eea10 0%, #764ba210 100%);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }
        
        .profile-title {
            font-size: 1.5em;
            color: #667eea;
            margin-bottom: 15px;
        }
        
        .profile-tag {
            display: inline-block;
            padding: 5px 15px;
            background: white;
            border-radius: 20px;
            margin: 5px;
            color: #666;
            font-size: 0.9em;
        }
        
        .learning-path {
            margin-top: 30px;
        }
        
        .path-title {
            font-size: 1.3em;
            color: #333;
            margin-bottom: 20px;
        }
        
        .phase {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }
        
        .phase-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .phase-name {
            font-size: 1.1em;
            font-weight: 600;
            color: #333;
        }
        
        .phase-duration {
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
        }
        
        .task-list {
            margin-top: 15px;
        }
        
        .task {
            padding: 10px 15px;
            background: white;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        .task-check {
            width: 20px;
            height: 20px;
            border: 2px solid #667eea;
            border-radius: 4px;
            margin-right: 15px;
        }
        
        .chat-assistant {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }
        
        .chat-assistant:hover {
            transform: scale(1.1);
        }
        
        .chat-window {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 400px;
            height: 500px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
            display: none;
            flex-direction: column;
        }
        
        .chat-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 20px 20px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chat-close {
            cursor: pointer;
            font-size: 24px;
        }
        
        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }
        
        .chat-input-area {
            padding: 20px;
            border-top: 1px solid #e0e0e0;
            display: flex;
            gap: 10px;
        }
        
        .chat-input {
            flex: 1;
            padding: 10px 15px;
            border: 1px solid #e0e0e0;
            border-radius: 20px;
            outline: none;
        }
        
        .chat-send {
            padding: 10px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
        }
        
        .message {
            margin-bottom: 15px;
            display: flex;
        }
        
        .message.user {
            justify-content: flex-end;
        }
        
        .message-bubble {
            max-width: 70%;
            padding: 10px 15px;
            border-radius: 15px;
        }
        
        .message.user .message-bubble {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .message.ai .message-bubble {
            background: #f0f0f0;
            color: #333;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ AIËá™Â™í‰ΩìÂ≠¶‰π†ËßÑÂàíÂ∏à</h1>
            <p>3ÂàÜÈíü‰∏™ÊÄßÂåñÊµãËØÑÔºåÂÆöÂà∂‰Ω†ÁöÑ‰∏ìÂ±ûÂ≠¶‰π†Ë∑ØÂæÑ</p>
        </div>
        
        <!-- ÈóÆÂç∑ÈÉ®ÂàÜ -->
        <div id="questionnaire" class="questionnaire">
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar" style="width: 0%"></div>
            </div>
            <div class="progress-text">
                <span id="currentQuestion">0</span> / <span id="totalQuestions">8</span>
            </div>
            
            <!-- ÈóÆÈ¢òÂÆπÂô® -->
            <div id="questionContainer"></div>
            
            <div class="btn-group">
                <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()">‰∏ä‰∏ÄÈ¢ò</button>
                <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()">‰∏ã‰∏ÄÈ¢ò</button>
            </div>
        </div>
        
        <!-- ÁªìÊûúÂ±ïÁ§∫ -->
        <div id="resultContainer" class="result-container hidden">
            <div class="user-profile">
                <h2 class="profile-title">üìä ‰Ω†ÁöÑÂ≠¶‰π†ÁîªÂÉè</h2>
                <div id="profileTags"></div>
            </div>
            
            <div class="learning-path">
                <h2 class="path-title">üéØ ‰∏∫‰Ω†ÂÆöÂà∂ÁöÑ21Â§©Â≠¶‰π†Ë∑ØÂæÑ</h2>
                <div id="pathContent"></div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="restartQuiz()">ÈáçÊñ∞ËØÑÊµã</button>
                <button class="btn btn-primary" onclick="startLearning()">ÂºÄÂßãÂ≠¶‰π†</button>
            </div>
        </div>
    </div>
    
    <!-- AIÂä©Êâã -->
    <div class="chat-assistant" onclick="toggleChat()">üí¨</div>
    <div class="chat-window" id="chatWindow">
        <div class="chat-header">
            <span>AIÂ≠¶‰π†Âä©Êâã</span>
            <span class="chat-close" onclick="toggleChat()">√ó</span>
        </div>
        <div class="chat-messages" id="chatMessages">
            <div class="message ai">
                <div class="message-bubble">
                    ‰Ω†Â•ΩÔºÅÊàëÊòØ‰Ω†ÁöÑAIËá™Â™í‰ΩìÂ≠¶‰π†Âä©ÊâãÔºåÊúâ‰ªÄ‰πàÂèØ‰ª•Â∏ÆÂä©‰Ω†ÁöÑÂêóÔºü
                </div>
            </div>
        </div>
        <div class="chat-input-area">
            <input type="text" class="chat-input" id="chatInput" placeholder="ËæìÂÖ•‰Ω†ÁöÑÈóÆÈ¢ò..." onkeypress="if(event.key==='Enter')sendMessage()">
            <button class="chat-send" onclick="sendMessage()">ÂèëÈÄÅ</button>
        </div>
    </div>
    
    <script>
        // ÈóÆÈ¢òÊï∞ÊçÆ
        const questions = [
            {
                id: 1,
                title: "‰Ω†ÁõÆÂâçÁöÑÁä∂ÊÄÅÊòØÔºü",
                subtitle: "‰∫ÜËß£‰Ω†ÁöÑÊó∂Èó¥ÂÆâÊéíÔºå‰∏∫‰Ω†ËßÑÂàíÂêàÈÄÇÁöÑÂ≠¶‰π†Âº∫Â∫¶",
                type: "single",
                options: [
                    { value: "full_time_regular", label: "ÂÖ®ËÅå‰∏äÁè≠ÊóèÔºàÊúù‰πùÊôö‰∫îÔºâ", timeScore: 2 },
                    { value: "full_time_flexible", label: "ÂÖ®ËÅå‰∏äÁè≠ÊóèÔºàÊó∂Èó¥ÁÅµÊ¥ªÔºâ", timeScore: 3 },
                    { value: "freelancer", label: "Ëá™Áî±ËÅå‰∏öËÄÖ", timeScore: 4 },
                    { value: "parent", label: "ÂÖ®ËÅåÂÆùÂ¶à/ÂÆùÁà∏", timeScore: 3 },
                    { value: "student", label: "Â≠¶Áîü", timeScore: 4 },
                    { value: "unemployed", label: "ÂæÖ‰∏ö/ÂÖ®ËÅåÂÅöÂâØ‰∏ö", timeScore: 5 }
                ]
            },
            {
                id: 2,
                title: "‰Ω†ÊØèÂ§©ÂèØ‰ª•ÊäïÂÖ•AIËá™Â™í‰ΩìÁöÑÊó∂Èó¥ÊòØÔºü",
                subtitle: "ÂêàÁêÜÁöÑÊó∂Èó¥ÊäïÂÖ•ÊòØÊàêÂäüÁöÑÂü∫Á°Ä",
                type: "single",
                options: [
                    { value: "less_2", label: "Â∞ë‰∫é2Â∞èÊó∂", timeAvailable: 1 },
                    { value: "2_4", label: "2-4Â∞èÊó∂", timeAvailable: 2 },
                    { value: "4_6", label: "4-6Â∞èÊó∂", timeAvailable: 3 },
                    { value: "more_6", label: "6Â∞èÊó∂‰ª•‰∏ä", timeAvailable: 4 }
                ]
            },
            {
                id: 3,
                title: "‰Ω†ÂØπAIÂ∑•ÂÖ∑ÁöÑ‰∫ÜËß£Á®ãÂ∫¶Ôºü",
                subtitle: "ËØÑ‰º∞‰Ω†ÁöÑAIÂü∫Á°ÄÔºåÂÜ≥ÂÆöÂ≠¶‰π†Ëµ∑ÁÇπ",
                type: "single",
                options: [
                    { value: "expert", label: "ÁªèÂ∏∏‰ΩøÁî®ÔºåÂæàÁÜüÊÇâChatGPT/MidjourneyÁ≠â", aiLevel: 4 },
                    { value: "intermediate", label: "Áî®ËøáÂá†Ê¨°Ôºå‰∫ÜËß£Âü∫Êú¨ÂäüËÉΩ", aiLevel: 3 },
                    { value: "beginner", label: "Âê¨ËØ¥Ëøá‰ΩÜÊ≤°ÊÄé‰πàÁî®Ëøá", aiLevel: 2 },
                    { value: "none", label: "ÂÆåÂÖ®‰∏ç‰∫ÜËß£", aiLevel: 1 }
                ]
            },
            {
                id: 4,
                title: "‰Ω†ÁöÑÂÜÖÂÆπÂàõ‰ΩúËÉΩÂäõÂ¶Ç‰ΩïÔºü",
                subtitle: "ËØÑ‰º∞‰Ω†ÁöÑÂàõ‰ΩúÂü∫Á°Ä",
                type: "single",
                options: [
                    { value: "pro_writer", label: "ÁªèÂ∏∏ÂÜô‰ΩúÔºåÊñáÁ¨î‰∏çÈîô", contentSkill: 4 },
                    { value: "good_logic", label: "ËÉΩÊ∏ÖÊ•öË°®ËææÔºåÈÄªËæëÊ∏ÖÊô∞", contentSkill: 3 },
                    { value: "average", label: "‰∏ÄËà¨Ê∞¥Âπ≥ÔºåÊÑøÊÑèÂ≠¶‰π†", contentSkill: 2 },
                    { value: "weak", label: "ÊØîËæÉËñÑÂº±ÔºåÈúÄË¶ÅÊèêÂçá", contentSkill: 1 }
                ]
            },
            {
                id: 5,
                title: "‰Ω†ÂÄæÂêëÁöÑÂÜÖÂÆπÂΩ¢ÂºèÊòØÔºü",
                subtitle: "ÈÄâÊã©ÈÄÇÂêà‰Ω†ÁöÑÂÜÖÂÆπÂΩ¢Âºè",
                type: "single",
                options: [
                    { value: "text", label: "ÂõæÊñáÂÜÖÂÆπÔºàÂ∞èÁ∫¢‰π¶Á¨îËÆ∞„ÄÅÂÖ¨‰ºóÂè∑ÊñáÁ´†Ôºâ", format: "text" },
                    { value: "short_video", label: "Áü≠ËßÜÈ¢ëÔºàÊäñÈü≥„ÄÅBÁ´ôÔºâ", format: "video" },
                    { value: "live", label: "Áõ¥Êí≠ÂàÜ‰∫´", format: "live" },
                    { value: "mixed", label: "ÈÉΩÂèØ‰ª•Â∞ùËØï", format: "mixed" }
                ]
            },
            {
                id: 6,
                title: "‰Ω†ÊÑüÂÖ¥Ë∂£ÁöÑAIËá™Â™í‰ΩìÊñπÂêëÔºü",
                subtitle: "ÂèØÂ§öÈÄâÔºåÊàë‰ª¨‰ºö‰∏∫‰Ω†Êé®ËçêÊúÄÈÄÇÂêàÁöÑ",
                type: "multiple",
                options: [
                    { value: "tools", label: "AIÂ∑•ÂÖ∑ÊµãËØÑ‰∏éÊïôÁ®ã" },
                    { value: "art", label: "AIÁªòÁîªÂàõ‰Ωú" },
                    { value: "writing", label: "AIÂÜô‰ΩúÊäÄÂ∑ß" },
                    { value: "efficiency", label: "AIÊïàÁéáÊèêÂçá" },
                    { value: "news", label: "AIËµÑËÆØËß£ËØª" },
                    { value: "education", label: "AIÊïôËÇ≤ÂüπËÆ≠" }
                ]
            },
            {
                id: 7,
                title: "‰Ω†‰πãÂâçÁöÑÁõ∏ÂÖ≥ÁªèÈ™åÔºü",
                subtitle: "‰∫ÜËß£‰Ω†ÁöÑÂü∫Á°ÄÔºåÊõ¥Â•ΩÂú∞ËßÑÂàíË∑ØÂæÑ",
                type: "multiple",
                options: [
                    { value: "social_media", label: "ÂÅöËøáËá™Â™í‰ΩìÔºàÂÖ¨‰ºóÂè∑/Â§¥Êù°/Áü•‰πéÁ≠âÔºâ" },
                    { value: "short_video", label: "ÊãçËøáÁü≠ËßÜÈ¢ëÔºàÊäñÈü≥/Âø´ÊâãÁ≠âÔºâ" },
                    { value: "ecommerce", label: "ÂÅöËøáÁîµÂïÜ/Â∏¶Ë¥ß" },
                    { value: "teaching", label: "ÊúâÊïôÂ≠¶/ÂüπËÆ≠ÁªèÈ™å" },
                    { value: "none", label: "ÂÆåÂÖ®Ê≤°ÊúâÁõ∏ÂÖ≥ÁªèÈ™å" }
                ]
            },
            {
                id: 8,
                title: "‰Ω†ÂÅöAIËá™Â™í‰ΩìÁöÑ‰∏ªË¶ÅÁõÆÊ†áÔºü",
                subtitle: "ÊòéÁ°ÆÁõÆÊ†áÔºåÊâçËÉΩÊõ¥Â•ΩÂú∞ËææÊàê",
                type: "single",
                options: [
                    { value: "side_income", label: "Â¢ûÂä†ÂâØ‰∏öÊî∂ÂÖ•", goal: "monetization" },
                    { value: "skill_learning", label: "Â≠¶‰π†Êñ∞ÊäÄËÉΩ", goal: "skill" },
                    { value: "personal_brand", label: "ÊâìÈÄ†‰∏™‰∫∫IP", goal: "brand" },
                    { value: "career_change", label: "ËÅå‰∏öËΩ¨Âûã", goal: "career" },
                    { value: "interest", label: "ÂÖ¥Ë∂£Áà±Â•Ω", goal: "hobby" }
                ]
            }
        ];
        
        let currentQuestionIndex = 0;
        let userAnswers = {};
        
        // ÂàùÂßãÂåñ
        function init() {
            document.getElementById('totalQuestions').textContent = questions.length;
            showQuestion(0);
        }
        
        // ÊòæÁ§∫ÈóÆÈ¢ò
        function showQuestion(index) {
            const question = questions[index];
            const container = document.getElementById('questionContainer');
            
            let optionsHtml = '';
            const isMultiple = question.type === 'multiple';
            const inputType = isMultiple ? 'checkbox' : 'radio';
            
            question.options.forEach(option => {
                const isChecked = userAnswers[question.id] && 
                    (isMultiple ? userAnswers[question.id].includes(option.value) : userAnswers[question.id] === option.value);
                
                optionsHtml += `
                    <label class="option ${isChecked ? 'selected' : ''}">
                        <input type="${inputType}" 
                               name="q${question.id}" 
                               value="${option.value}"
                               ${isChecked ? 'checked' : ''}
                               onchange="handleOptionChange(${question.id}, '${option.value}', ${isMultiple})">
                        ${option.label}
                    </label>
                `;
            });
            
            container.innerHTML = `
                <div class="question-section" style="animation-delay: 0.1s">
                    <h3 class="question-title">${question.title}</h3>
                    ${question.subtitle ? `<p class="question-subtitle">${question.subtitle}</p>` : ''}
                    <div class="options">
                        ${optionsHtml}
                    </div>
                </div>
            `;
            
            // Êõ¥Êñ∞ËøõÂ∫¶
            updateProgress(index);
            
            // Êõ¥Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
            document.getElementById('prevBtn').style.display = index === 0 ? 'none' : 'block';
            document.getElementById('nextBtn').textContent = index === questions.length - 1 ? 'Êü•ÁúãÁªìÊûú' : '‰∏ã‰∏ÄÈ¢ò';
        }
        
        // Â§ÑÁêÜÈÄâÈ°πÂèòÂåñ
        function handleOptionChange(questionId, value, isMultiple) {
            if (isMultiple) {
                if (!userAnswers[questionId]) {
                    userAnswers[questionId] = [];
                }
                const index = userAnswers[questionId].indexOf(value);
                if (index > -1) {
                    userAnswers[questionId].splice(index, 1);
                } else {
                    userAnswers[questionId].push(value);
                }
            } else {
                userAnswers[questionId] = value;
            }
            
            // Êõ¥Êñ∞ÈÄâ‰∏≠Áä∂ÊÄÅ
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                const input = option.querySelector('input');
                if (input.checked) {
                    option.classList.add('selected');
                } else {
                    option.classList.remove('selected');
                }
            });
        }
        
        // Êõ¥Êñ∞ËøõÂ∫¶
        function updateProgress(index) {
            const progress = ((index + 1) / questions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = index + 1;
        }
        
        // ‰∏ã‰∏ÄÈ¢ò
        function nextQuestion() {
            if (!userAnswers[questions[currentQuestionIndex].id]) {
                alert('ËØ∑ÂÖàÈÄâÊã©‰∏Ä‰∏™ÈÄâÈ°π');
                return;
            }
            
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                showQuestion(currentQuestionIndex);
            } else {
                generateResult();
            }
        }
        
        // ‰∏ä‰∏ÄÈ¢ò
        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion(currentQuestionIndex);
            }
        }
        
        // ÁîüÊàêÁªìÊûú
        async function generateResult() {
            // ÂàÜÊûêÁî®Êà∑ÁîªÂÉè
            const profile = analyzeProfile();
            
            // ÊòæÁ§∫ÁªìÊûú
            document.getElementById('questionnaire').classList.add('hidden');
            document.getElementById('resultContainer').classList.remove('hidden');
            
            // ÊòæÁ§∫Áî®Êà∑ÁîªÂÉèÊ†áÁ≠æ
            const tagsHtml = profile.tags.map(tag => 
                `<span class="profile-tag">${tag}</span>`
            ).join('');
            document.getElementById('profileTags').innerHTML = tagsHtml;
            
            // ÁîüÊàê‰∏™ÊÄßÂåñÂ≠¶‰π†Ë∑ØÂæÑ
            const learningPath = generateLearningPath(profile);
            displayLearningPath(learningPath);
            
            // Ë∞ÉÁî®AIËé∑ÂèñÊõ¥ËØ¶ÁªÜÁöÑÂª∫ËÆÆ
            if (typeof sendToAI === 'function') {
                const aiAdvice = await sendToAI(profile);
                if (aiAdvice) {
                    // ÊòæÁ§∫AIÂª∫ËÆÆ
                }
            }
        }
        
        // ÂàÜÊûêÁî®Êà∑ÁîªÂÉè
        function analyzeProfile() {
            const profile = {
                tags: [],
                timeAvailable: 0,
                aiLevel: 0,
                contentSkill: 0,
                goal: '',
                experience: [],
                direction: [],
                format: ''
            };
            
            // ÂàÜÊûêÂêÑ‰∏™Áª¥Â∫¶
            questions.forEach(q => {
                const answer = userAnswers[q.id];
                if (!answer) return;
                
                if (q.id === 1) {
                    const option = q.options.find(o => o.value === answer);
                    if (option) {
                        profile.timeAvailable = option.timeScore;
                        profile.tags.push(option.label);
                    }
                }
                
                if (q.id === 2) {
                    const option = q.options.find(o => o.value === answer);
                    if (option) {
                        profile.tags.push(`ÊØèÂ§©${option.label.toLowerCase()}`);
                    }
                }
                
                if (q.id === 3) {
                    const option = q.options.find(o => o.value === answer);
                    if (option) {
                        profile.aiLevel = option.aiLevel;
                        if (option.aiLevel <= 2) {
                            profile.tags.push('AIÊñ∞Êâã');
                        } else {
                            profile.tags.push('AIÁÜüÊâã');
                        }
                    }
                }
                
                if (q.id === 4) {
                    const option = q.options.find(o => o.value === answer);
                    if (option) {
                        profile.contentSkill = option.contentSkill;
                    }
                }
                
                if (q.id === 5) {
                    const option = q.options.find(o => o.value === answer);
                    if (option) {
                        profile.format = option.format;
                        profile.tags.push(`ÂÅèÂ•Ω${option.label.split('Ôºà')[0]}`);
                    }
                }
                
                if (q.id === 6 && Array.isArray(answer)) {
                    profile.direction = answer;
                }
                
                if (q.id === 7 && Array.isArray(answer)) {
                    profile.experience = answer;
                    if (answer.includes('none')) {
                        profile.tags.push('Èõ∂Âü∫Á°Ä');
                    } else {
                        profile.tags.push('ÊúâÁªèÈ™å');
                    }
                }
                
                if (q.id === 8) {
                    const option = q.options.find(o => o.value === answer);
                    if (option) {
                        profile.goal = option.goal;
                        profile.tags.push(option.label);
                    }
                }
            });
            
            return profile;
        }
        
        // ÁîüÊàê‰∏™ÊÄßÂåñÂ≠¶‰π†Ë∑ØÂæÑ
        function generateLearningPath(profile) {
            const phases = [];
            
            // Ê†πÊçÆÁî®Êà∑ÁîªÂÉèÂÆöÂà∂Èò∂ÊÆµ
            if (profile.aiLevel <= 2) {
                // AIÊñ∞ÊâãÈúÄË¶ÅÊõ¥Â§öÂü∫Á°ÄÂÜÖÂÆπ
                phases.push({
                    name: 'Âü∫Á°ÄÂÖ•Èó®Èò∂ÊÆµ',
                    duration: 'Á¨¨1-7Â§©',
                    focus: 'AIÂ∑•ÂÖ∑ËÆ§Áü•‰∏éÂü∫Á°ÄÊìç‰Ωú',
                    tasks: [
                        '‰∫ÜËß£ChatGPT„ÄÅMidjourneyÁ≠â‰∏ªÊµÅAIÂ∑•ÂÖ∑',
                        'Ê≥®ÂÜåÂπ∂ÂÆåÊàêÂü∫Á°ÄËÆæÁΩÆ',
                        'Â≠¶‰π†promptÊèêÁ§∫ËØçÂü∫Á°Ä',
                        'ÂÆåÊàê10‰∏™AIÂ∑•ÂÖ∑ÂÆûÊìçÁªÉ‰π†',
                        'Á°ÆÂÆöËá™Â∑±ÁöÑÂÜÖÂÆπÊñπÂêë'
                    ]
                });
            } else {
                // AIÁÜüÊâãÂèØ‰ª•Âø´ÈÄüËøõÂÖ•ÂÆö‰Ωç
                phases.push({
                    name: 'Âø´ÈÄüÂÆö‰ΩçÈò∂ÊÆµ',
                    duration: 'Á¨¨1-4Â§©',
                    focus: 'ËµõÈÅìÈÄâÊã©‰∏éÁ´ûÂìÅÂàÜÊûê',
                    tasks: [
                        'ÂàÜÊûê3‰∏™ÁªÜÂàÜËµõÈÅìÁöÑÂ∏ÇÂú∫ÊΩúÂäõ',
                        'ÊâæÂá∫10‰∏™ÂØπÊ†áË¥¶Âè∑Ê∑±Â∫¶ÂàÜÊûê',
                        'Á°ÆÂÆöËá™Â∑±ÁöÑÂ∑ÆÂºÇÂåñÂÆö‰Ωç',
                        'Âà∂ÂÆöÂÜÖÂÆπÁü©ÈòµËßÑÂàí'
                    ]
                });
            }
            
            // ÂÜÖÂÆπÂàõ‰ΩúÈò∂ÊÆµ
            if (profile.format === 'text') {
                phases.push({
                    name: 'ÂõæÊñáÂàõ‰ΩúÈò∂ÊÆµ',
                    duration: 'Á¨¨5-14Â§©',
                    focus: 'ÂõæÊñáÂÜÖÂÆπÁîü‰∫ß‰∏é‰ºòÂåñ',
                    tasks: [
                        'Â≠¶‰π†Â∞èÁ∫¢‰π¶/ÂÖ¨‰ºóÂè∑ÁàÜÊ¨æÈÄªËæë',
                        'ÊéåÊè°AIËæÖÂä©ÂÜô‰ΩúÊäÄÂ∑ß',
                        'ÊØèÂ§©‰∫ßÂá∫1-2ÁØáÂõæÊñáÂÜÖÂÆπ',
                        'Â≠¶‰π†Â∞ÅÈù¢ÂõæËÆæËÆ°ÊäÄÂ∑ß',
                        'A/BÊµãËØï‰ºòÂåñÂÜÖÂÆπ'
                    ]
                });
            } else if (profile.format === 'video') {
                phases.push({
                    name: 'ËßÜÈ¢ëÂàõ‰ΩúÈò∂ÊÆµ',
                    duration: 'Á¨¨5-14Â§©',
                    focus: 'Áü≠ËßÜÈ¢ëÂà∂‰Ωú‰∏éÂèëÂ∏É',
                    tasks: [
                        'Â≠¶‰π†Áü≠ËßÜÈ¢ëËÑöÊú¨Âàõ‰Ωú',
                        'ÊéåÊè°AIËßÜÈ¢ëÂ∑•ÂÖ∑‰ΩøÁî®',
                        'ÁªÉ‰π†ÈïúÂ§¥Ë°®Áé∞Âäõ',
                        'ÊØèÂ§©ÂèëÂ∏É1‰∏™Áü≠ËßÜÈ¢ë',
                        'Êï∞ÊçÆÂàÜÊûê‰∏é‰ºòÂåñ'
                    ]
                });
            } else {
                phases.push({
                    name: 'ÂÖ®Â™í‰ΩìÂàõ‰ΩúÈò∂ÊÆµ',
                    duration: 'Á¨¨5-14Â§©',
                    focus: 'Â§öÂπ≥Âè∞ÂÜÖÂÆπÂ∏ÉÂ±Ä',
                    tasks: [
                        'Âà∂ÂÆöÂ§öÂπ≥Âè∞ÂÜÖÂÆπÁ≠ñÁï•',
                        'ÂõæÊñáËßÜÈ¢ëÁªìÂêàÂàõ‰Ωú',
                        'Âª∫Á´ãÂÜÖÂÆπÁîü‰∫ßÊµÅÁ®ã',
                        'Ë∑®Âπ≥Âè∞ÂºïÊµÅÊäÄÂ∑ß',
                        'ÂÜÖÂÆπÂ§çÁî®‰∏éÊîπÁºñ'
                    ]
                });
            }
            
            // ËøêËê•Â¢ûÈïøÈò∂ÊÆµ
            if (profile.goal === 'monetization') {
                phases.push({
                    name: 'ÂïÜ‰∏öÂèòÁé∞Èò∂ÊÆµ',
                    duration: 'Á¨¨15-21Â§©',
                    focus: 'ÂèòÁé∞Ê®°ÂºèÊé¢Á¥¢‰∏éÂÆûË∑µ',
                    tasks: [
                        'ÂºÄÈÄöÂêÑÂπ≥Âè∞Âàõ‰ΩúËÄÖËÆ°Âàí',
                        'Êé•Ê¥ΩÈ¶ñÊâπÂïÜÂä°Âêà‰Ωú',
                        'ËÆæËÆ°Áü•ËØÜ‰ªòË¥π‰∫ßÂìÅ',
                        'Âª∫Á´ãÁßÅÂüüÊµÅÈáèÊ±†',
                        'Âà∂ÂÆö‰ª∑Ê†º‰ΩìÁ≥ª'
                    ]
                });
            } else if (profile.goal === 'brand') {
                phases.push({
                    name: 'ÂìÅÁâåÂª∫ËÆæÈò∂ÊÆµ',
                    duration: 'Á¨¨15-21Â§©',
                    focus: '‰∏™‰∫∫IPÊâìÈÄ†',
                    tasks: [
                        'ËÆæËÆ°‰∏™‰∫∫ÂìÅÁâåËßÜËßâ‰ΩìÁ≥ª',
                        'Âª∫Á´ãÁ≤â‰∏ùÁ§æÁæ§',
                        'ÊâìÈÄ†Ê†áÂøóÊÄßÂÜÖÂÆπÁ≥ªÂàó',
                        'Ë∑®Âπ≥Âè∞ÂìÅÁâåÁªü‰∏Ä',
                        'ÂΩ±ÂìçÂäõÊâ©Â§ßÁ≠ñÁï•'
                    ]
                });
            } else {
                phases.push({
                    name: 'ÊåÅÁª≠‰ºòÂåñÈò∂ÊÆµ',
                    duration: 'Á¨¨15-21Â§©',
                    focus: 'Êï∞ÊçÆÈ©±Âä®ÁöÑÂÜÖÂÆπ‰ºòÂåñ',
                    tasks: [
                        'Ê∑±Â∫¶Êï∞ÊçÆÂàÜÊûê',
                        'ÁàÜÊ¨æÂÜÖÂÆπÂ§çÂà∂',
                        'Á≤â‰∏ù‰∫íÂä®ÊèêÂçá',
                        'ÂÜÖÂÆπË¥®ÈáèÂçáÁ∫ß',
                        'ÈïøÊúüËßÑÂàíÂà∂ÂÆö'
                    ]
                });
            }
            
            return phases;
        }
        
        // ÊòæÁ§∫Â≠¶‰π†Ë∑ØÂæÑ
        function displayLearningPath(phases) {
            let html = '';
            phases.forEach((phase, index) => {
                html += `
                    <div class="phase" style="animation: fadeIn 0.5s forwards; animation-delay: ${index * 0.1}s; opacity: 0">
                        <div class="phase-header">
                            <span class="phase-name">${phase.name}</span>
                            <span class="phase-duration">${phase.duration}</span>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">ÈáçÁÇπÔºö${phase.focus}</p>
                        <div class="task-list">
                            ${phase.tasks.map(task => `
                                <div class="task">
                                    <div class="task-check"></div>
                                    <span>${task}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });
            document.getElementById('pathContent').innerHTML = html;
        }
        
        // ÈáçÊñ∞ÂºÄÂßã
        function restartQuiz() {
            currentQuestionIndex = 0;
            userAnswers = {};
            document.getElementById('questionnaire').classList.remove('hidden');
            document.getElementById('resultContainer').classList.add('hidden');
            showQuestion(0);
        }
        
        // ÂºÄÂßãÂ≠¶‰π†
        function startLearning() {
            // ËøôÈáåÂèØ‰ª•Ë∑≥ËΩ¨Âà∞ÂÖ∑‰ΩìÁöÑÂ≠¶‰π†È°µÈù¢ÊàñÊòæÁ§∫Êõ¥ËØ¶ÁªÜÁöÑÂÜÖÂÆπ
            alert('Â§™Ê£í‰∫ÜÔºÅËÆ©Êàë‰ª¨ÂºÄÂßã‰Ω†ÁöÑAIËá™Â™í‰Ωì‰πãÊóÖÔºÅ');
            // ÂèØ‰ª•Ë∞ÉÁî®AIÂä©ÊâãÊèê‰æõÁ¨¨‰∏ÄÂ§©ÁöÑÂÖ∑‰Ωì‰ªªÂä°
            toggleChat();
            setTimeout(() => {
                addAIMessage('Ê†πÊçÆ‰Ω†ÁöÑÂ≠¶‰π†ËÆ°ÂàíÔºå‰ªäÂ§©Êàë‰ª¨ÂÖà‰ªé‰∫ÜËß£AIÂ∑•ÂÖ∑ÂºÄÂßã„ÄÇÊàëÊù•‰∏∫‰Ω†‰ªãÁªç‰∏Ä‰∏ãChatGPTÁöÑÂü∫Á°Ä‰ΩøÁî®ÊäÄÂ∑ß...');
            }, 500);
        }
        
        // ËÅäÂ§©ÂäüËÉΩ
        function toggleChat() {
            const chatWindow = document.getElementById('chatWindow');
            chatWindow.style.display = chatWindow.style.display === 'flex' ? 'none' : 'flex';
        }
        
        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;
            
            // Ê∑ªÂä†Áî®Êà∑Ê∂àÊÅØ
            addUserMessage(message);
            input.value = '';
            
            // Ë∞ÉÁî®AI API
            try {
                const response = await fetch('http://localhost:8000/chat', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ message })
                });
                
                const data = await response.json();
                addAIMessage(data.answer || 'ËÆ©ÊàëÊÉ≥ÊÉ≥...');
            } catch (error) {
                addAIMessage('Êä±Ê≠âÔºåÊàëÊöÇÊó∂Êó†Ê≥ïÂõûÁ≠î„ÄÇËØ∑Á®çÂêéÂÜçËØï„ÄÇ');
            }
        }
        
        function addUserMessage(message) {
            const messagesDiv = document.getElementById('chatMessages');
            messagesDiv.innerHTML += `
                <div class="message user">
                    <div class="message-bubble">${message}</div>
                </div>
            `;
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }
        
        function addAIMessage(message) {
            const messagesDiv = document.getElementById('chatMessages');
            messagesDiv.innerHTML += `
                <div class="message ai">
                    <div class="message-bubble">${message}</div>
                </div>
            `;
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }
        
        // ÂàùÂßãÂåñ
        init();
    </script>
</body>
</html>